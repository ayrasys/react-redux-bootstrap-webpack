{"version":3,"sources":["webpack:///./src/front/hoc/withEnterAnimation/index.js","webpack:///./src/front/hoc/withEnterAnimation/styled/AnimatedDiv.js","webpack:///./src/front/hoc/withEnterAnimation/withEnterAnimation.js","webpack:///./src/front/pages/login/Login.js","webpack:///./src/front/pages/login/index.js"],"names":["fadeIn","AnimatedDiv","styled","div","viewEnter","withEnterAnimation","BaseComponent","WithEnterAnimation","passProps","props","displayName","wrapDisplayName","Login","state","email","password","handlesOnEmailChange","event","preventDefault","setState","target","value","trim","handlesOnPasswordChange","handlesOnLogin","history","logUserIfNeeded","userLogin","login","response","payload","data","token","user","auth","setToken","setUserInfo","push","pathname","console","log","goHome","disconnectUser","isLogging","defaultProps","isFetching","mapStateToProps","isAuthenticated","userAuth","mapDispatchToProps","bindActionCreators","dispatch","compose","connect"],"mappings":"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","file":"2.js","sourcesContent":["// @flow\n\nimport withEnterAnimation from './withEnterAnimation';\n\nexport default withEnterAnimation;\n","// @flow\n\n// @region imports\nimport styled, { keyframes, css } from 'styled-components';\n// #endregion\n\nconst fadeIn = keyframes`\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n    transform: none;\n  }\n`;\n\nconst AnimatedDiv = styled.div`\n  ${({ viewEnter }) =>\n    viewEnter &&\n    css`\n      opacity: 0;\n      animation-name: ${fadeIn};\n      animation-timing-function: ease-in;\n      animation-duration: 0.7s;\n      animation-delay: 0s;\n      animation-fill-mode: both;\n    `};\n`;\n\nexport default AnimatedDiv;\n","// @flow\n\n// #region imports\nimport React, { Component } from 'react';\nimport wrapDisplayName from 'recompose/wrapDisplayName';\nimport AnimatedDiv from './styled/AnimatedDiv';\n// #endregion\n\n// #region flow types\ntype Props = any;\n\ntype State = any;\n// #endregion\n\nfunction withEnterAnimation() {\n  return (BaseComponent: any) => {\n    class WithEnterAnimation extends Component<Props, State> {\n      render() {\n        const { ...passProps } = this.props;\n\n        return (\n          <AnimatedDiv viewEnter={true}>\n            <BaseComponent {...passProps} />\n          </AnimatedDiv>\n        );\n      }\n    }\n\n    /* eslint-disable no-process-env */\n    if (process.env.NODE_ENV !== 'production') {\n      // HOC would obfuscate component name, this trick is helpful for dev (we don't care in production)\n      WithEnterAnimation.displayName = wrapDisplayName(\n        BaseComponent,\n        'withEnterAnimation',\n      );\n    }\n    /* eslint-enable no-process-env */\n\n    return WithEnterAnimation;\n  };\n}\n\nexport default withEnterAnimation;\n","// @flow\n\n// #region imports\nimport React, { PureComponent } from 'react';\nimport {\n  type Match,\n  type Location,\n  type RouterHistory,\n} from 'react-router-dom';\nimport { Row, Col, Button } from 'react-bootstrap';\nimport auth from '../../services/auth';\n// #endregion\n\n// #region flow types\nexport type Props = {\n  // react-router 4:\n  match: Match,\n  location: Location,\n  history: RouterHistory,\n\n  // userAuth:\n  isAuthenticated: boolean,\n  isFetching: boolean,\n  isLogging: boolean,\n  disconnectUser: () => any,\n  logUserIfNeeded: () => any,\n};\n\nexport type State = {\n  email: string,\n  password: string,\n};\n// #endregion\n\nclass Login extends PureComponent<Props, State> {\n  static defaultProps = {\n    isFetching: false,\n    isLogging: false,\n  };\n\n  state = {\n    email: '',\n    password: '',\n  };\n\n  // #region lifecycle methods\n  componentDidMount() {\n    const { disconnectUser } = this.props;\n\n    disconnectUser(); // diconnect user: remove token and user info\n  }\n\n  render() {\n    const { email, password } = this.state;\n\n    const { isLogging } = this.props;\n\n    return (\n      <div className=\"content\">\n        <Row>\n          <Col md={4} mdOffset={4} xs={10} xsOffset={1}>\n            <form className=\"form-horizontal\" noValidate>\n              <fieldset>\n                <legend>Login</legend>\n\n                <div className=\"form-group\">\n                  <label\n                    htmlFor=\"inputEmail\"\n                    className=\"col-lg-2 control-label\"\n                  >\n                    Email\n                  </label>\n                  <div className=\"col-lg-10\">\n                    <input\n                      type=\"text\"\n                      className=\"form-control\"\n                      id=\"inputEmail\"\n                      placeholder=\"Email\"\n                      value={email}\n                      onChange={this.handlesOnEmailChange}\n                    />\n                  </div>\n                </div>\n\n                <div className=\"form-group\">\n                  <label\n                    htmlFor=\"inputPassword\"\n                    className=\"col-lg-2 control-label\"\n                  >\n                    Password\n                  </label>\n                  <div className=\"col-lg-10\">\n                    <input\n                      type=\"password\"\n                      className=\"form-control\"\n                      id=\"inputPassword\"\n                      placeholder=\"Password\"\n                      value={password}\n                      onChange={this.handlesOnPasswordChange}\n                    />\n                  </div>\n                </div>\n                <div className=\"form-group\">\n                  <Col lg={10} lgOffset={2}>\n                    <Button\n                      className=\"login-button btn-block\"\n                      bsStyle=\"primary\"\n                      disabled={isLogging}\n                      onClick={this.handlesOnLogin}\n                    >\n                      {isLogging ? (\n                        <span>\n                          login in... &nbsp;\n                          <i className=\"fa fa-spinner fa-pulse fa-fw\" />\n                        </span>\n                      ) : (\n                        <span>Login</span>\n                      )}\n                    </Button>\n                  </Col>\n                </div>\n              </fieldset>\n            </form>\n          </Col>\n        </Row>\n        <Row>\n          <Col md={4} mdOffset={4} xs={10} xsOffset={1}>\n            <Button bsStyle=\"primary\" onClick={this.goHome}>\n              back to home\n            </Button>\n          </Col>\n        </Row>\n      </div>\n    );\n  }\n  // #endregion\n\n  // #region form inputs change callbacks\n  handlesOnEmailChange = (event: SyntheticEvent<>) => {\n    if (event) {\n      event.preventDefault();\n      // should add some validator before setState in real use cases\n      this.setState({ email: event.target.value.trim() });\n    }\n  };\n\n  handlesOnPasswordChange = (event: SyntheticEvent<>) => {\n    if (event) {\n      event.preventDefault();\n      // should add some validator before setState in real use cases\n      this.setState({ password: event.target.value.trim() });\n    }\n  };\n  // #endregion\n\n  // #region on login button click callback\n  handlesOnLogin = async (event: SyntheticEvent<>) => {\n    if (event) {\n      event.preventDefault();\n    }\n\n    const { history, logUserIfNeeded } = this.props;\n\n    const { email, password } = this.state;\n\n    const userLogin = {\n      login: email,\n      password: password,\n    };\n\n    try {\n      const response = await logUserIfNeeded(userLogin);\n      const {\n        data: { token, user },\n      } = response.payload;\n\n      auth.setToken(token);\n      auth.setUserInfo(user);\n\n      history.push({ pathname: '/' }); // back to Home\n    } catch (error) {\n      /* eslint-disable no-console */\n      console.log('login went wrong..., error: ', error);\n      /* eslint-enable no-console */\n    }\n  };\n  // #endregion\n\n  // #region on go back home button click callback\n  goHome = (event: SyntheticEvent<>) => {\n    if (event) {\n      event.preventDefault();\n    }\n\n    const { history } = this.props;\n\n    history.push({ pathname: '/' });\n  };\n  // #endregion\n}\n\nexport default Login;\n","// @flow\n\n// #region imports\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport compose from 'recompose/compose';\nimport * as userAuthActions from '../../redux/modules/userAuth';\nimport Login from './Login';\nimport withEnterAnimation from '../../hoc/withEnterAnimation';\n// #endregion\n\n// #region redux map state and dispatch to props\nconst mapStateToProps = state => {\n  return {\n    isAuthenticated: state.userAuth.isAuthenticated,\n    isFetching: state.userAuth.isFetching,\n    isLogging: state.userAuth.isLogging,\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return bindActionCreators(\n    {\n      ...userAuthActions,\n    },\n    dispatch,\n  );\n};\n// #endregion\n\nexport default compose(\n  withEnterAnimation(/* no option yet */),\n  connect(mapStateToProps, mapDispatchToProps),\n)(Login);\n"],"sourceRoot":""}